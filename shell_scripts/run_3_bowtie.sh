#PBS -S /bin/bash
#PBS -q batch
#PBS -N all_sample_run
#PBS -l nodes=1:ppn=48:AMD
#PBS -l mem=2gb
#PBS -l walltime=96:00:00
#PBS -M mzwink@uga.edu
#PBS -m ae
#PBS -j oe

cd /lustre1/mz00685/mice_alignment/combined_runs

module load bowtie2/latest

export cores=12
export mapFilter=true
export runNum=999

export read1_list=A10_712_runs_combined_1.fq.gz,A11_713_runs_combined_1.fq.gz,A12_808_runs_combined_1.fq.gz,A1_1439_runs_combined_1.fq.gz,A2_1796_runs_combined_1.fq.gz,A3_681_runs_combined_1.fq.gz,A4_682_runs_combined_1.fq.gz,A5_683_runs_combined_1.fq.gz,A6_697_runs_combined_1.fq.gz,A7_698_runs_combined_1.fq.gz,A8_709_runs_combined_1.fq.gz,A9_710_runs_combined_1.fq.gz,B10_1062_runs_combined_1.fq.gz,B11_1065_runs_combined_1.fq.gz,B12_1066_runs_combined_1.fq.gz,B1_809_runs_combined_1.fq.gz,B2_810_runs_combined_1.fq.gz,B3_858_runs_combined_1.fq.gz,B4_897_runs_combined_1.fq.gz,B5_899_runs_combined_1.fq.gz,B6_938_runs_combined_1.fq.gz,B7_987_runs_combined_1.fq.gz,B8_988_runs_combined_1.fq.gz,B9_1033_runs_combined_1.fq.gz,C10_1189_runs_combined_1.fq.gz,C11_1200_runs_combined_1.fq.gz,C12_1232_runs_combined_1.fq.gz,C1_1071_runs_combined_1.fq.gz,C2_1072_runs_combined_1.fq.gz,C3_1073_runs_combined_1.fq.gz,C4_1074_runs_combined_1.fq.gz,C5_1076_runs_combined_1.fq.gz,C6_1133_runs_combined_1.fq.gz,C7_1137_runs_combined_1.fq.gz,C8_1148_runs_combined_1.fq.gz,C9_1149_runs_combined_1.fq.gz,D10_1449_runs_combined_1.fq.gz,D11_1495_runs_combined_1.fq.gz,D12_1496_runs_combined_1.fq.gz,D1_1239_runs_combined_1.fq.gz,D2_1249_runs_combined_1.fq.gz,D3_1271_runs_combined_1.fq.gz,D4_1278_runs_combined_1.fq.gz,D5_1286_runs_combined_1.fq.gz,D6_1314_runs_combined_1.fq.gz,D7_1328_runs_combined_1.fq.gz,D8_1329_runs_combined_1.fq.gz,D9_1368_runs_combined_1.fq.gz,E10_1638_runs_combined_1.fq.gz,E11_1645_runs_combined_1.fq.gz,E12_1672_runs_combined_1.fq.gz,E1_1498_runs_combined_1.fq.gz,E2_1501_runs_combined_1.fq.gz,E3_1550_runs_combined_1.fq.gz,E4_1558_runs_combined_1.fq.gz,E5_1559_runs_combined_1.fq.gz,E6_1560_runs_combined_1.fq.gz,E7_1609_runs_combined_1.fq.gz,E8_1626_runs_combined_1.fq.gz,E9_1630_runs_combined_1.fq.gz,F10_1842_runs_combined_1.fq.gz,F11_1863_runs_combined_1.fq.gz,F12_1864_runs_combined_1.fq.gz,F1_1725_runs_combined_1.fq.gz,F2_1726_runs_combined_1.fq.gz,F3_1727_runs_combined_1.fq.gz,F4_1740_runs_combined_1.fq.gz,F5_1741_runs_combined_1.fq.gz,F6_1778_runs_combined_1.fq.gz,F7_1810_runs_combined_1.fq.gz,F8_1816_runs_combined_1.fq.gz,F9_1824_runs_combined_1.fq.gz,G10_1941_runs_combined_1.fq.gz,G11_1942_runs_combined_1.fq.gz,G12_1943_runs_combined_1.fq.gz,G1_1866_runs_combined_1.fq.gz,G2_1867_runs_combined_1.fq.gz,G3_1868_runs_combined_1.fq.gz,G4_1907_runs_combined_1.fq.gz,G5_1908_runs_combined_1.fq.gz,G6_1914_runs_combined_1.fq.gz,G7_1918_runs_combined_1.fq.gz,G8_1919_runs_combined_1.fq.gz,G9_1938_runs_combined_1.fq.gz,H10_2062_runs_combined_1.fq.gz,H11_2087_runs_combined_1.fq.gz,H12_2089_runs_combined_1.fq.gz,H1_1964_runs_combined_1.fq.gz,H2_1965_runs_combined_1.fq.gz,H3_1975_runs_combined_1.fq.gz,H4_1977_runs_combined_1.fq.gz,H5_1978_runs_combined_1.fq.gz,H6_2009_runs_combined_1.fq.gz,H7_2013_runs_combined_1.fq.gz,H8_2040_runs_combined_1.fq.gz,H9_2041_runs_combined_1.fq.gz
export read2_list=A10_712_runs_combined_2.fq.gz,A11_713_runs_combined_2.fq.gz,A12_808_runs_combined_2.fq.gz,A1_1439_runs_combined_2.fq.gz,A2_1796_runs_combined_2.fq.gz,A3_681_runs_combined_2.fq.gz,A4_682_runs_combined_2.fq.gz,A5_683_runs_combined_2.fq.gz,A6_697_runs_combined_2.fq.gz,A7_698_runs_combined_2.fq.gz,A8_709_runs_combined_2.fq.gz,A9_710_runs_combined_2.fq.gz,B10_1062_runs_combined_2.fq.gz,B11_1065_runs_combined_2.fq.gz,B12_1066_runs_combined_2.fq.gz,B1_809_runs_combined_2.fq.gz,B2_810_runs_combined_2.fq.gz,B3_858_runs_combined_2.fq.gz,B4_897_runs_combined_2.fq.gz,B5_899_runs_combined_2.fq.gz,B6_938_runs_combined_2.fq.gz,B7_987_runs_combined_2.fq.gz,B8_988_runs_combined_2.fq.gz,B9_1033_runs_combined_2.fq.gz,C10_1189_runs_combined_2.fq.gz,C11_1200_runs_combined_2.fq.gz,C12_1232_runs_combined_2.fq.gz,C1_1071_runs_combined_2.fq.gz,C2_1072_runs_combined_2.fq.gz,C3_1073_runs_combined_2.fq.gz,C4_1074_runs_combined_2.fq.gz,C5_1076_runs_combined_2.fq.gz,C6_1133_runs_combined_2.fq.gz,C7_1137_runs_combined_2.fq.gz,C8_1148_runs_combined_2.fq.gz,C9_1149_runs_combined_2.fq.gz,D10_1449_runs_combined_2.fq.gz,D11_1495_runs_combined_2.fq.gz,D12_1496_runs_combined_2.fq.gz,D1_1239_runs_combined_2.fq.gz,D2_1249_runs_combined_2.fq.gz,D3_1271_runs_combined_2.fq.gz,D4_1278_runs_combined_2.fq.gz,D5_1286_runs_combined_2.fq.gz,D6_1314_runs_combined_2.fq.gz,D7_1328_runs_combined_2.fq.gz,D8_1329_runs_combined_2.fq.gz,D9_1368_runs_combined_2.fq.gz,E10_1638_runs_combined_2.fq.gz,E11_1645_runs_combined_2.fq.gz,E12_1672_runs_combined_2.fq.gz,E1_1498_runs_combined_2.fq.gz,E2_1501_runs_combined_2.fq.gz,E3_1550_runs_combined_2.fq.gz,E4_1558_runs_combined_2.fq.gz,E5_1559_runs_combined_2.fq.gz,E6_1560_runs_combined_2.fq.gz,E7_1609_runs_combined_2.fq.gz,E8_1626_runs_combined_2.fq.gz,E9_1630_runs_combined_2.fq.gz,F10_1842_runs_combined_2.fq.gz,F11_1863_runs_combined_2.fq.gz,F12_1864_runs_combined_2.fq.gz,F1_1725_runs_combined_2.fq.gz,F2_1726_runs_combined_2.fq.gz,F3_1727_runs_combined_2.fq.gz,F4_1740_runs_combined_2.fq.gz,F5_1741_runs_combined_2.fq.gz,F6_1778_runs_combined_2.fq.gz,F7_1810_runs_combined_2.fq.gz,F8_1816_runs_combined_2.fq.gz,F9_1824_runs_combined_2.fq.gz,G10_1941_runs_combined_2.fq.gz,G11_1942_runs_combined_2.fq.gz,G12_1943_runs_combined_2.fq.gz,G1_1866_runs_combined_2.fq.gz,G2_1867_runs_combined_2.fq.gz,G3_1868_runs_combined_2.fq.gz,G4_1907_runs_combined_2.fq.gz,G5_1908_runs_combined_2.fq.gz,G6_1914_runs_combined_2.fq.gz,G7_1918_runs_combined_2.fq.gz,G8_1919_runs_combined_2.fq.gz,G9_1938_runs_combined_2.fq.gz,H10_2062_runs_combined_2.fq.gz,H11_2087_runs_combined_2.fq.gz,H12_2089_runs_combined_2.fq.gz,H1_1964_runs_combined_2.fq.gz,H2_1965_runs_combined_2.fq.gz,H3_1975_runs_combined_2.fq.gz,H4_1977_runs_combined_2.fq.gz,H5_1978_runs_combined_2.fq.gz,H6_2009_runs_combined_2.fq.gz,H7_2013_runs_combined_2.fq.gz,H8_2040_runs_combined_2.fq.gz,H9_2041_runs_combined_2.fq.gz


bowtie2 -p ${cores} --no-unal --very-sensitive -x mm9_index/mm9 \
  -1 ${read1_list} \
  -2 ${read2_list} \
  --rg-id all_runs \
  --rg SM:all_runs \
  --rg PL:ILLUMINA \
  --rg LB:3 \
  -S /lustre1/mz00685/mice_alignment/sam/all_runs.sam \
  >& all_runs_summary.txt
